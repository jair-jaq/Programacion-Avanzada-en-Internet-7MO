<!Doctype html>
<html>
    <head>
        <title>Cuadros en canvas</title>
    </head>
        <style>
          #canvas{
                width: 500px;
                height: 500px;
                border: 1px solid black;
                background-color: coral;

          } 
        </style>
        <body>
            <img id= "minion" src="minion.png" alt="Minion" style="display: none;">
            <canvas id= "canvas" width="500" height="500"></canvas>
        </body>

        <script>
            var canvas = document.getElementById("canvas")
            var ctx = canvas.getContext("2d")
            var color = "rgba(13,242,23,0.5)";
            var figura = true;

            ctx.fillStyle = color;

            canvas.addEventListener("click", (e) => {
                ctx.beginPath();
                if(figura){
                    
           
                ctx.arc(e.layerX,e.layerY, 50, 0, 2* Math.PI);
                ctx.fill();
                ctx.stroke();
            }else{
                ctx.fillRect(e.layerX-50, e.layerY - 50, 100, 100);
                ctx.strokeRect(e.layerX - 50, e.layerY - 50, 100, 100);
            }
        })

            canvas.addEventListener("mouseover", (e)=>{
                console.log("mouseover")
                color = random_rgba();
                ctx.fillStyle = color;
            })

            canvas.addEventListener("mouseout", ()=> figura = !figura);

            function random_rgba() {
                    var o = Math.round, r = Math.random, s = 255;
                    return 'rgba(' + o(r()*s) + ',' + o(r()*s) + ',' + o(r()*s) + ',' + r().toFixed(1) + ')';
                }

                canvas.addEventListener("mousemove", ({clientX, clientY})=> {
                    let aux = ctx.fillStyle;
                    ctx.beginPath();
                    ctx.fillStyle = "rgba(0, 0, 0, 1)";
                    ctx.arc(clientX, clientY, 2, 0, 2* Math.PI);
                    ctx.fill();

                    ctx.fillStyle = aux;
                })

          /* ctx.fillStyle = "#6E00FF";
            ctx.fillRect(20,10,30,30);

            ctx.fillStyle = "#F80032";
            ctx.fillRect(40,30,30,30);

            ctx.fillStyle = "#F1ACBD";
            ctx.fillRect(60,50,30,30);

            ctx.strokeStyle = "blue";
            ctx.beginPath();
            ctx.moveTo(185,10);
            ctx.lineTo(230,65);
            ctx.lineTo(125,65);
            ctx.fill();
            ctx.stroke();
            ctx.closePath();

            ctx.strokeStyle= "red";
            ctx.beginPath();
            ctx.moveTo(230,65);
            ctx.lineTo(280,120);
            ctx.stroke();

            ctx.beginPath();
            ctx.fillStyle = "green";
            ctx.arc(115,110, 20, 0, 2* Math.PI);
            ctx.fill();
            ctx.stroke();

            
            ctx.beginPath();
            ctx.arc(160,110, 20, 0, 2* Math.PI);
            ctx.stroke();

            ctx.font = "35px Arial";
            ctx.fillStyle = "white";
            ctx.fillText("¡Hola, mundo!", 5, 160);
            ctx.strokeStyle = "black";
            ctx.lineWidth = .9;
            ctx.strokeText("¡Hola, mundo!", 5, 160);

            const grd = ctx.createLinearGradient(30, 60, 100, 50);
            grd.addColorStop(0, "black");
            grd.addColorStop(.5, "blue");
            grd.addColorStop(1, "pink");
            ctx.fillStyle = grd;
            ctx.fillRect(20, 180, 130, 80);


            var grd2 = ctx.createRadialGradient(265, 220, 10, 265, 220, 80);
            grd2.addColorStop(0, "blue");
            grd2.addColorStop(0.5, "white");
            grd2.addColorStop(1, "green");
            ctx.fillStyle = grd2;
            ctx.fillRect(200, 180, 130, 80);

            var Image = document.getElementById("minion");
            Image.onload = function(){
                ctx.drawImage(Image, 320, 20, 150, 150);
            }

            Image.src = "minion.png";
            */

        </script>
    </html>